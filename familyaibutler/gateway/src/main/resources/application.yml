server:
  port: 80

spring:
  main:
    web-application-type: reactive
  application:
    name: gateway
  cloud:
    gateway:
      enabled: true
      routes:
        - id: family
          uri: http://127.0.0.1:39090
          predicates:
            - name: Path
              args:
                - /base/**
          filters:
            - StripPrefix=1
        - id: ai
          uri: http://127.0.0.1:39091
          predicates:
            - name: Path
              args:
                - /ai/**
          filters:
            - StripPrefix=1

logging:
  file:
    path: /log/${spring.application.name}
  config: classpath:log/logback-spring.xml
  level:
    root: info
    org:
      springframework:
        cloud:
          gateway: info


knife4j:
  gateway:
    enabled: true
    tags-sorter: alpha
    operations-sorter: alpha
    strategy: manual
    routes:
      - name: family
        url: /base/v3/api-docs?group=default
        service-name: family
        context-path: /base
        order: 1
      - name: ai
        url: /ai/v3/api-docs?group=default
        service-name: family
        context-path: /ai
        order: 2
